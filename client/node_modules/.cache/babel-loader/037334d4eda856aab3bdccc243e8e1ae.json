{"ast":null,"code":"import _slicedToArray from\"/Users/yesh/Documents/WritePrograms/Process-Drift-Visualization-With-Declare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/Users/yesh/Documents/WritePrograms/Process-Drift-Visualization-With-Declare/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{createContext,useReducer}from\"react\";var ColorTheme;(function(ColorTheme){ColorTheme[\"plasma\"]=\"plasma\";ColorTheme[\"bw\"]=\"bw\";ColorTheme[\"PiYG\"]=\"PiYG\";})(ColorTheme||(ColorTheme={}));var TypeConstr;(function(TypeConstr){TypeConstr[\"plasma\"]=\"confidence\";TypeConstr[\"bw\"]=\"support\";TypeConstr[\"PiYG\"]=\"interestF\";})(TypeConstr||(TypeConstr={}));export var AppContext=createContext({state:{},dispatch:function dispatch(){return null;}});AppContext.displayName=\"AppContext\";export var SET_SESSION_ACTION=\"SET_SESSION_ACTION\";export var UPDATE_SESSION_ACTION=\"UPDATE_SESSION_ACTION\";export var UPDATE_DEFINED_PARAM_ACTION=\"UPDATE_DEFINED_PARAM_ACTION\";export var SET_ALGORITHM_RESULT=\"SET_ALGORITHM_RESULT\";export var SET_ALGORITHM_SLICE_INDEX=\"SET_ALGORITHM_SLICE_INDEX\";var reducer=function reducer(state,action){switch(action.type){case SET_SESSION_ACTION:{return _objectSpread(_objectSpread({},state),action.payload);}case UPDATE_DEFINED_PARAM_ACTION:{return _objectSpread(_objectSpread({},state),{},{defined:_objectSpread(_objectSpread({},state.defined),action.payload)});}case SET_ALGORITHM_RESULT:{return _objectSpread(_objectSpread({},state),{},{algorithmResult:action.payload,algorithmSliceIndex:0});}case SET_ALGORITHM_SLICE_INDEX:{return _objectSpread(_objectSpread({},state),{},{algorithmSliceIndex:action.payload.index});}default:return state;}};var wrappedDispatch=function wrappedDispatch(dispatch){return function(action){console.log(\"DISPATCH:\",action);dispatch(action);};};export var AppContextProvider=function AppContextProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,{}),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];console.log({state:state});return/*#__PURE__*/React.createElement(AppContext.Provider,{value:{state:state,dispatch:wrappedDispatch(dispatch)}},children);};","map":{"version":3,"sources":["/Users/yesh/Documents/WritePrograms/Process-Drift-Visualization-With-Declare/client/src/context/appContext.tsx"],"names":["React","createContext","useReducer","ColorTheme","TypeConstr","AppContext","state","dispatch","displayName","SET_SESSION_ACTION","UPDATE_SESSION_ACTION","UPDATE_DEFINED_PARAM_ACTION","SET_ALGORITHM_RESULT","SET_ALGORITHM_SLICE_INDEX","reducer","action","type","payload","defined","algorithmResult","algorithmSliceIndex","index","wrappedDispatch","console","log","AppContextProvider","children"],"mappings":"mZAAA,MAAOA,CAAAA,KAAP,EAAoBC,aAApB,CAAmCC,UAAnC,KAAqD,OAArD,C,GAEKC,CAAAA,U,WAAAA,U,EAAAA,U,oBAAAA,U,YAAAA,U,mBAAAA,U,GAAAA,U,SAMAC,CAAAA,U,WAAAA,U,EAAAA,U,wBAAAA,U,iBAAAA,U,wBAAAA,U,GAAAA,U,MA+CL,MAAO,IAAMC,CAAAA,UAAU,CAAGJ,aAAa,CAGpC,CACDK,KAAK,CAAE,EADN,CAEDC,QAAQ,CAAE,0BAAM,KAAN,EAFT,CAHoC,CAAhC,CAOPF,UAAU,CAACG,WAAX,CAAyB,YAAzB,CAEA,MAAO,IAAMC,CAAAA,kBAAkB,CAAG,oBAA3B,CACP,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,uBAA9B,CACP,MAAO,IAAMC,CAAAA,2BAA2B,CAAG,6BAApC,CACP,MAAO,IAAMC,CAAAA,oBAAoB,CAAG,sBAA7B,CACP,MAAO,IAAMC,CAAAA,yBAAyB,CAAG,2BAAlC,CAEP,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CACdR,KADc,CAEdS,MAFc,CAGO,CACrB,OAAQA,MAAM,CAACC,IAAf,EACE,IAAKP,CAAAA,kBAAL,CAAyB,CACvB,sCACKH,KADL,EAEKS,MAAM,CAACE,OAFZ,EAID,CAED,IAAKN,CAAAA,2BAAL,CAAkC,CAChC,sCACKL,KADL,MAEEY,OAAO,gCACFZ,KAAK,CAACY,OADJ,EAEFH,MAAM,CAACE,OAFL,CAFT,GAOD,CAED,IAAKL,CAAAA,oBAAL,CAA2B,CACzB,sCACKN,KADL,MAEEa,eAAe,CAAEJ,MAAM,CAACE,OAF1B,CAGEG,mBAAmB,CAAE,CAHvB,GAKD,CAED,IAAKP,CAAAA,yBAAL,CAAgC,CAC9B,sCACKP,KADL,MAEEc,mBAAmB,CAAEL,MAAM,CAACE,OAAP,CAAeI,KAFtC,GAID,CAED,QACE,MAAOf,CAAAA,KAAP,CAlCJ,CAoCD,CAxCD,CA0CA,GAAMgB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACf,QAAD,QAAmC,UACzDQ,MADyD,CAEtD,CACHQ,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBT,MAAzB,EACAR,QAAQ,CAACQ,MAAD,CAAR,CACD,CALuB,EAAxB,CAOA,MAAO,IAAMU,CAAAA,kBAAsB,CAAG,QAAzBA,CAAAA,kBAAyB,MAAkB,IAAfC,CAAAA,QAAe,MAAfA,QAAe,iBAC5BxB,UAAU,CAACY,OAAD,CAAU,EAAV,CADkB,4CAC/CR,KAD+C,iBACxCC,QADwC,iBAGtDgB,OAAO,CAACC,GAAR,CAAY,CAAElB,KAAK,CAALA,KAAF,CAAZ,EAEA,mBACE,oBAAC,UAAD,CAAY,QAAZ,EAAqB,KAAK,CAAE,CAAEA,KAAK,CAALA,KAAF,CAASC,QAAQ,CAAEe,eAAe,CAACf,QAAD,CAAlC,CAA5B,EACGmB,QADH,CADF,CAKD,CAVM","sourcesContent":["import React, { FC, createContext, useReducer } from \"react\";\n\nenum ColorTheme {\n  plasma = \"plasma\",\n  bw = \"bw\",\n  PiYG = \"PiYG\",\n}\n\nenum TypeConstr {\n  plasma = \"confidence\",\n  bw = \"support\",\n  PiYG = \"interestF\",\n}\n\nexport type TAppContextState = {\n  session_id?: string;\n  cluCut_default?: number;\n  cluCut_max?: number;\n  cluCut_min?: number;\n  colorTheme?: ColorTheme[];\n  colorTheme_default?: ColorTheme;\n  driftAll?: boolean;\n  noSort?: boolean;\n  sliBy_default?: number;\n  sliBy_max?: number;\n  sliBy_min?: number;\n  subL_default?: number;\n  subL_max?: number;\n  subL_min?: number;\n  typeConstr?: TypeConstr[];\n  typeConstr_default?: TypeConstr;\n  defined?: {\n    cluCut?: number;\n    sliBy?: number;\n    subL?: number;\n    driftAll?: boolean;\n    noSort?: boolean;\n    colorTheme?: ColorTheme;\n    typeConstr?: TypeConstr;\n  };\n  algorithmResult?: TAlgorithmResult;\n  algorithmSliceIndex?: number;\n};\n\ntype TAlgorithmResult = {\n  path_to_driftmap: string;\n  erraticMeasureData: Array<Array<string>>;\n  paths_to_drift_plots: Array<string>;\n  spread_constraints: string;\n  [key: string]: any;\n};\n\ntype TStoreAction = { type: string; payload: { [key: string]: any } };\nexport type TDispatchType = React.Dispatch<TStoreAction>;\n\nexport const AppContext = createContext<{\n  state: TAppContextState;\n  dispatch: TDispatchType;\n}>({\n  state: {},\n  dispatch: () => null,\n});\nAppContext.displayName = \"AppContext\";\n\nexport const SET_SESSION_ACTION = \"SET_SESSION_ACTION\";\nexport const UPDATE_SESSION_ACTION = \"UPDATE_SESSION_ACTION\";\nexport const UPDATE_DEFINED_PARAM_ACTION = \"UPDATE_DEFINED_PARAM_ACTION\";\nexport const SET_ALGORITHM_RESULT = \"SET_ALGORITHM_RESULT\";\nexport const SET_ALGORITHM_SLICE_INDEX = \"SET_ALGORITHM_SLICE_INDEX\";\n\nconst reducer = (\n  state: TAppContextState,\n  action: TStoreAction\n): TAppContextState => {\n  switch (action.type) {\n    case SET_SESSION_ACTION: {\n      return {\n        ...state,\n        ...action.payload,\n      };\n    }\n\n    case UPDATE_DEFINED_PARAM_ACTION: {\n      return {\n        ...state,\n        defined: {\n          ...state.defined,\n          ...action.payload,\n        },\n      };\n    }\n\n    case SET_ALGORITHM_RESULT: {\n      return {\n        ...state,\n        algorithmResult: action.payload as TAlgorithmResult,\n        algorithmSliceIndex: 0,\n      };\n    }\n\n    case SET_ALGORITHM_SLICE_INDEX: {\n      return {\n        ...state,\n        algorithmSliceIndex: action.payload.index as number,\n      }\n    }\n\n    default:\n      return state;\n  }\n};\n\nconst wrappedDispatch = (dispatch: React.Dispatch<any>) => (\n  action: TStoreAction\n) => {\n  console.log(\"DISPATCH:\", action);\n  dispatch(action);\n};\n\nexport const AppContextProvider: FC = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, {});\n\n  console.log({ state });\n\n  return (\n    <AppContext.Provider value={{ state, dispatch: wrappedDispatch(dispatch) }}>\n      {children}\n    </AppContext.Provider>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}