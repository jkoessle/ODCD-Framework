{"ast":null,"code":"var _jsxFileName = \"/Users/yesh/Documents/WritePrograms/Process-Drift-Visualization-With-Declare/client/src/components/UploadComponent/index.tsx\";\nimport React, { useState, useContext } from \"react\";\nimport { Upload, Button } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\nimport { uploadFile } from \"../../apiService\";\nimport { AppContext, SET_SESSION_ACTION } from \"../../context/appContext\";\nimport './Upload.css';\nexport const UploadComponent = () => {\n  const {\n    dispatch,\n    state\n  } = useContext(AppContext);\n  const [loading, setLoading] = useState(false);\n\n  if (state.session_id) {\n    return null;\n  }\n\n  const handleSubmitForm = async ({\n    file,\n    onSuccess,\n    onError\n  }) => {\n    if (file) {\n      setLoading(true);\n      const formData = new FormData();\n      formData.append(\"file\", file);\n\n      try {\n        const response = await uploadFile(formData);\n        dispatch({\n          type: SET_SESSION_ACTION,\n          payload: response\n        });\n        onSuccess(response, file);\n      } catch (error) {\n        console.log(error);\n        onError(error);\n      }\n\n      setLoading(false);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Upload, {\n    className: \"Upload-button\",\n    accept: \".xes\",\n    name: \"file\",\n    customRequest: handleSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(UploadOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }), \" Click to upload a \", /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 46\n    }\n  }, \" .xes \"), \" file\"));\n};","map":{"version":3,"sources":["/Users/yesh/Documents/WritePrograms/Process-Drift-Visualization-With-Declare/client/src/components/UploadComponent/index.tsx"],"names":["React","useState","useContext","Upload","Button","UploadOutlined","uploadFile","AppContext","SET_SESSION_ACTION","UploadComponent","dispatch","state","loading","setLoading","session_id","handleSubmitForm","file","onSuccess","onError","formData","FormData","append","response","type","payload","error","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,MAAT,EAAiBC,MAAjB,QAA+B,MAA/B;AACA,SAASC,cAAT,QAA+B,mBAA/B;AAEA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,EAAqBC,kBAArB,QAA+C,0BAA/C;AACA,OAAO,cAAP;AAEA,OAAO,MAAMC,eAAe,GAAG,MAAM;AACnC,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAAsBT,UAAU,CAACK,UAAD,CAAtC;AACA,QAAM,CAACK,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAU,KAAV,CAAtC;;AAEA,MAAIU,KAAK,CAACG,UAAV,EAAsB;AACpB,WAAO,IAAP;AACD;;AAGD,QAAMC,gBAAgB,GAAG,OAAO;AAC9BC,IAAAA,IAD8B;AAE9BC,IAAAA,SAF8B;AAG9BC,IAAAA;AAH8B,GAAP,KAQnB;AACJ,QAAIF,IAAJ,EAAU;AACRH,MAAAA,UAAU,CAAC,IAAD,CAAV;AACA,YAAMM,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBL,IAAxB;;AACA,UAAI;AACF,cAAMM,QAAQ,GAAG,MAAMhB,UAAU,CAACa,QAAD,CAAjC;AACAT,QAAAA,QAAQ,CAAC;AAAEa,UAAAA,IAAI,EAAEf,kBAAR;AAA4BgB,UAAAA,OAAO,EAAEF;AAArC,SAAD,CAAR;AACAL,QAAAA,SAAS,CAACK,QAAD,EAAWN,IAAX,CAAT;AACD,OAJD,CAIE,OAAOS,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAP,QAAAA,OAAO,CAACO,KAAD,CAAP;AACD;;AACDZ,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD;AACF,GAvBD;;AAwBA,sBACE,oBAAC,MAAD;AACE,IAAA,SAAS,EAAC,eADZ;AAEE,IAAA,MAAM,EAAC,MAFT;AAGE,IAAA,IAAI,EAAC,MAHP;AAIE,IAAA,aAAa,EAAEE,gBAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAOE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEH,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,sCACuC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADvC,UAPF,CADF;AAaD,CA9CM","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { Upload, Button } from \"antd\";\nimport { UploadOutlined } from \"@ant-design/icons\";\n\nimport { uploadFile } from \"../../apiService\";\nimport { AppContext, SET_SESSION_ACTION } from \"../../context/appContext\";\nimport './Upload.css';\n\nexport const UploadComponent = () => {\n  const { dispatch, state } = useContext(AppContext);\n  const [loading, setLoading] = useState<boolean>(false);\n\n  if (state.session_id) {\n    return null\n  }\n\n\n  const handleSubmitForm = async ({\n    file,\n    onSuccess,\n    onError,\n  }: {\n    file: File;\n    onSuccess: (response: object, file: File) => void;\n    onError: (event: Error, body?: Object) => void;\n  }) => {\n    if (file) {\n      setLoading(true);\n      const formData = new FormData();\n      formData.append(\"file\", file);\n      try {\n        const response = await uploadFile(formData);\n        dispatch({ type: SET_SESSION_ACTION, payload: response });\n        onSuccess(response, file);\n      } catch (error) {\n        console.log(error);\n        onError(error);\n      }\n      setLoading(false);\n    }\n  };\n  return (\n    <Upload\n      className=\"Upload-button\"\n      accept=\".xes\"\n      name=\"file\"\n      customRequest={handleSubmitForm}\n    >\n    \n      <Button loading={loading}>\n        <UploadOutlined /> Click to upload a <b> .xes </b> file\n      </Button>\n    </Upload>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}