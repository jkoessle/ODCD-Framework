{"ast":null,"code":"var _jsxFileName = \"/Users/yesh/Documents/WritePrograms/Process-Drift-Visualization-With-Declare/client/src/components/FormComponent/index.tsx\";\nimport React, { useState, useContext } from \"react\";\nimport { uploadFile } from '../../apiService';\nimport { AppContext, SET_SESSION_ID_ACTION } from '../../context/appContext';\nimport './FormComponent.css';\nexport const FormComponent = () => {\n  const {\n    dispatch\n  } = useContext(AppContext);\n  const [file, setFile] = useState();\n\n  const handleChange = event => {\n    const target = event.target;\n\n    if (target.files && target.files.length) {\n      const file = target.files[0];\n      setFile({\n        file,\n        file_name: file.name\n      });\n    }\n  };\n\n  const handleSubmitForm = async () => {\n    if (file) {\n      const formData = new FormData();\n      formData.append('file', file.file);\n\n      try {\n        const response = await uploadFile(formData);\n        console.log({\n          response\n        });\n        dispatch({\n          type: SET_SESSION_ID_ACTION,\n          payload: {\n            sessionId: response.session_id\n          }\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"FormComponent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"file\",\n    accept: \".xes\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"button\",\n    value: \"Submit!\",\n    onClick: handleSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }));\n};","map":{"version":3,"sources":["/Users/yesh/Documents/WritePrograms/Process-Drift-Visualization-With-Declare/client/src/components/FormComponent/index.tsx"],"names":["React","useState","useContext","uploadFile","AppContext","SET_SESSION_ID_ACTION","FormComponent","dispatch","file","setFile","handleChange","event","target","files","length","file_name","name","handleSubmitForm","formData","FormData","append","response","console","log","type","payload","sessionId","session_id","error"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AAEA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,EAAqBC,qBAArB,QAAkD,0BAAlD;AACA,OAAO,qBAAP;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AACjC,QAAM;AAACC,IAAAA;AAAD,MAAaL,UAAU,CAACE,UAAD,CAA7B;AACA,QAAM,CAACI,IAAD,EAAOC,OAAP,IAAkBR,QAAQ,EAAhC;;AAEA,QAAMS,YAAY,GAAIC,KAAD,IAAmD;AACtE,UAAMC,MAAM,GAAGD,KAAK,CAACC,MAArB;;AACA,QAAIA,MAAM,CAACC,KAAP,IAAgBD,MAAM,CAACC,KAAP,CAAaC,MAAjC,EAAyC;AACvC,YAAMN,IAAI,GAAGI,MAAM,CAACC,KAAP,CAAa,CAAb,CAAb;AACAJ,MAAAA,OAAO,CAAC;AAACD,QAAAA,IAAD;AAAOO,QAAAA,SAAS,EAAEP,IAAI,CAACQ;AAAvB,OAAD,CAAP;AACD;AACF,GAND;;AAQA,QAAMC,gBAAgB,GAAG,YAAY;AACnC,QAAIT,IAAJ,EAAU;AACR,YAAMU,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwBZ,IAAI,CAACA,IAA7B;;AACA,UAAI;AACF,cAAMa,QAAQ,GAAG,MAAMlB,UAAU,CAACe,QAAD,CAAjC;AACAI,QAAAA,OAAO,CAACC,GAAR,CAAY;AAACF,UAAAA;AAAD,SAAZ;AACAd,QAAAA,QAAQ,CAAC;AAACiB,UAAAA,IAAI,EAAEnB,qBAAP;AAA8BoB,UAAAA,OAAO,EAAE;AAACC,YAAAA,SAAS,EAAEL,QAAQ,CAACM;AAArB;AAAvC,SAAD,CAAR;AACD,OAJD,CAIE,OAAOC,KAAP,EAAc;AACdN,QAAAA,OAAO,CAACC,GAAR,CAAYK,KAAZ;AACD;AACF;AACF,GAZD;;AAcA,sBACE;AAAK,IAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,MAAM,EAAC,MAFT;AAGE,IAAA,QAAQ,EAAElB,YAHZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAME;AAAO,IAAA,IAAI,EAAC,QAAZ;AAAqB,IAAA,KAAK,EAAC,SAA3B;AAAqC,IAAA,OAAO,EAAEO,gBAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IANF,CADF;AAUD,CApCM","sourcesContent":["import React, { useState, useContext } from \"react\";\n\nimport { uploadFile } from '../../apiService';\nimport { AppContext, SET_SESSION_ID_ACTION } from '../../context/appContext';\nimport './FormComponent.css';\n\nexport const FormComponent = () => {\n  const {dispatch} = useContext(AppContext);\n  const [file, setFile] = useState<{file: File, file_name: string}>();\n\n  const handleChange = (event: React.SyntheticEvent<HTMLInputElement>) => {\n    const target = event.target as HTMLInputElement;\n    if (target.files && target.files.length) {\n      const file = target.files[0];\n      setFile({file, file_name: file.name});\n    }\n  }\n\n  const handleSubmitForm = async () => {\n    if (file) {\n      const formData = new FormData();\n      formData.append('file', file.file);\n      try {\n        const response = await uploadFile(formData);\n        console.log({response})\n        dispatch({type: SET_SESSION_ID_ACTION, payload: {sessionId: response.session_id}});\n      } catch (error) {\n        console.log(error);\n      }\n    }\n  };\n\n  return (\n    <div className=\"FormComponent\">\n      <input\n        type=\"file\"\n        accept=\".xes\"\n        onChange={handleChange}\n      />\n      <input type=\"button\" value=\"Submit!\" onClick={handleSubmitForm} />\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}